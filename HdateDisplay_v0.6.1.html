<!DOCType HTML>
<html lang="he">
<head>
<meta charset="utf-8">

<title>Hebrew Date</title>

<style>
  html *
  {
    color: #000;
    text-align: center;
    font-size: 4.5rem;
  }
  .frontbox
  {
    float: left;
    width: 100%;
    border-bottom: 0.6rem solid #000;
  }
	.frontbox .clockbox
  {
    text-align: left;
    font-size: 11rem;
    width: calc(50% - 0.6rem);
    font-weight: bold;
    border-right: 0.6rem solid #000;
    padding-right: 3rem;
  }
  .frontbox .daybox
  {
    position: relative;
    display: inline-flex;
    justify-content: center;
    align-items: center;
    text-align: center;
    padding-left: 4rem;
  }
  .datebox
  {
    clear: both;
    border-bottom: 0.6rem solid #000;
  }
  .hebbox
  {
    border-left: 0.6rem solid #000;
    padding-left: 1rem;
    align-items: center;
    justify-content: center;
    text-align: center;
  }
  .eventbox
  {
    height: 5rem;
    border-bottom: 0.6rem solid #000;
  }
  @media screen and (max-width: 51em)
  {
    .frontbox .clockbox
    {
      padding: 0rem;
      border-right: none;
    }
    .frontbox .daybox
    {
      display: flex;
      padding-left: 0rem;
      padding-bottom: 1rem;
    }
    .hebbox
    {
      border-left: none;
      padding-left: none;
      display: flex;
    }
  }
</style>
</head>



<body>
<span class="frontbox">
  <span class="clockbox" id="clock"></span>
  <span class="daybox" id="day" dir="rtl"></span>
</span>
<div class="datebox" id="date" dir="rtl">
  <span class="hebbox" id="heb"></span>
  <span class="gregbox" id="greg"></span>
</div>
<div class="eventbox" id="event1" dir="rtl"></div>
<div class="eventbox" id="event2" dir="rtl"></div>

<script>
var d = new Date(), interval= 60000-(d.getSeconds()*1000+d.getMilliseconds());
function getClock(){
  d= new Date();
  var nday=d.getDay(),nmonth=d.getMonth()+1,ndate=d.getDate(),nyear=d.getFullYear();
  var nhour=d.getHours(),nmin=d.getMinutes(),ap;

  //<script type="text/javascript">
  //var tday=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];
  var tday=["ראשון","שני","שלישי","רביעי","חמישי","שישי","שבת"];
  var tmonth=["ינואר","פבואר","מרץ","אפריל","מאי","יוני","יולי","אוגוסט","ספטמבר","אוקטובר","נובמבר","דצמבר"];

  /*
  if(nhour==0){ap=" לפני הצהריים";nhour=12;}
  else if(nhour<12){ap=" לפני הצהריים";}
  else if(nhour==12){ap=" אחרי הצהריים";}
  else if(nhour>12){ap=" א";nhour-=12;}
  */

  var clocktext=nhour+":"+twoDigit(nmin);
  var daytext="יום "+tday[nday];
  var dateH= gregToHeb(new Date(nyear, nmonth-1, ndate+1));
  var datetextH=formatDateH(dateH);
  var datetext=ndate+"/"+nmonth+"/"+nyear;
  if(nhour == nmin){
    if(nhour == 0)
      document.getElementById('clock').style.color = '#2352B0';
    else
      document.getElementById('clock').style.color = '#FF0000';
  }
  else document.getElementById('clock').style.color = '#000';
  document.getElementById('clock').innerHTML=clocktext;
  document.getElementById('day').innerHTML=daytext;
  document.getElementById('heb').innerHTML=datetextH;
  document.getElementById('greg').innerHTML=datetext;
  document.getElementById('event1').innerHTML=weeklyParasha(findShabbat(d));
  document.getElementById('event2').innerHTML=holidays(dateH);
}
getClock();
setTimeout(function() {getClock(); setInterval(getClock, 60000);}, interval);

  /*
    This code was converted to Java Script from my VB.Net program
    to convert Hebrew dates to and from Gregorian dates. I avoided
    using many optimization in order to make the logic clearer.

    These functions assume that all the current rules of the
    Hebrew calendar were always in existence (which is not true
    since the Hebrew calendar was not always fixed) and all the
    current rules of the Gregorian calendar were always in existence
    (which is not true).

    Here is a very brief description of the Hebrew calendar.

    The Hebrew calendar is a lunisolar calendar.  This means that
    the months are in sync with the moon and the years stay in sync
    with the sun.  A solar year is approximately 365.25 days.  A
    lunar month is approximately 29.5 days.  Twelve lunar months is
    approximately 354 days (12 * 29.5=354).  Thus, a lunar year of
    twelve months is 11.25 days shorter than the solar year. To make
    up for this shortfall, the Hebrew calendar adds a thirteenth
    month to seven years over a nineteen year period. Therefore, over
    a nineteen year period, the Hebrew calendar is approximately the
    same length as a nineteen year solar calendar.

    In order to understand this code, you must know the following
    terms:
      Molad - new moon. Hebrew months start around the day of the
              new moon
      Chalakim - 1 / 1080 of an hour or 3 1/3 seconds
      Tishrei - the first month of the Hebrew year (at least for
                these calculations)
      Rosh Hashanah - The Jewish new year which starts on Tishrei 1.

    The Hebrew calendar assumes the period of time between one new
    moon to the next is 29 days, 12 hours and 793 chalakim. The first
    molad after creation occurred on Monday, September, 7th -3760 at 5
    hours and 204 chalakim.  Technically, the Gregorian date would be
    in the year 3761 BCE because there was no year 0 in the Gregorian
    calendar, but we will use the year of -3760.

    Sample Usage:
       // Converts AdarB/7/5765 to 4/6/2005
       alert(hebToGreg(5765, 7, 26))

  */

  // This function returns how many months there has been from the
  // first Molad until the beginning of the year nYearH
  function monSinceFirstMolad(nYearH) {
    var nMonSinceFirstMolad

    // A shortcut to this function can simply be the following formula
    return Math.floor(((235 * nYearH) - 234) / 19)

    // This formula is found in Remy Landau's website and he
    // attributes it to Wolfgang Alexander Shochen. I will use a less
    // optimized function which I believe shows the underlying logic better.

    // count how many months there has been in all years up to last
    // year. The months of this year hasn't happened yet.
    // In the 19 year cycle, there will always be 235 months. That
    // would be 19 years times 12 months plus 7 extra month for the
    // leap years. (19 * 12) + 7 = 235.

    // Get how many 19 year cycles there has been and multiply it by 235

    // Get the remaining years after the last complete 19 year cycle

    // Add 12 months for each of those years

    // Add the extra months to account for the leap years
  }

  // This function returns if a given year is a leap year.
  function isLeapYear(nYearH) {
    var nYearInCycle

    // Find out which year we are within the cycle.
    // The 19th year of the cycle will return 0

    yearIndex = [true, false, false, true, false, false, true, false, true, false, false, true, false, false, true, false, false, true, false];

    nYearInCycle = nYearH % 19
    return yearIndex[nYearInCycle];
  }

  // This function figures out the Gregorian Date that corresponds to
  // the first day of Tishrei, the first month of the Hebrew
  // calendar, for a given Hebrew year.
  function tishrei1(nYearH) {
    var nMonthsSinceFirstMolad
    var nChalakim
    var nHours
    var nDays
    var nDayOfWeek
    var dTishrei1

    // We want to calculate how many days, hours and chalakim it has
    // been from the time of 0 days, 0 hours and 0 chalakim to the
    // molad at the beginning of year nYearH.

    // The period between one new moon to the next is 29 days, 12
    // hours and 793 chalakim. We must multiply that by the amount
    // of months that transpired since the first molad. Then we add
    // the time of the first molad (Monday, 5 hours and 204 chalakim)
    nMonthsSinceFirstMolad = monSinceFirstMolad(nYearH)
    nChalakim = 793 * nMonthsSinceFirstMolad + 204
    // carry the excess Chalakim over to the hours
    nHours = Math.floor(nChalakim / 1080)
    nChalakim = nChalakim % 1080

    nHours += nMonthsSinceFirstMolad * 12
    nHours += 5

    // carry the excess hours over to the days
    nDays = Math.floor(nHours / 24)
    nHours = nHours % 24

    nDays += 29 * nMonthsSinceFirstMolad
    nDays += 2

    // figure out which day of the week the molad occurs.
    // Sunday = 1, Monday = 2 ..., Shabbos = 0
    nDayOfWeek = nDays % 7

    // In a perfect world, Rosh Hashanah would be on the day of the
    // molad. The Hebrew calendar makes four exceptions where we
    // push off Rosh Hashanah one or two days. This is done to
    // prevent three situation. Without explaining why, the three
    // situations are:
    //   1) We don't want Rosh Hashanah to come out on Sunday,
    //      Wednesday or Friday
    //   2) We don't want Rosh Hashanah to be on the day of the
    //      molad if the molad occurs after the beginning of 18th
    //      hour.
    //   3) We want to limit years to specific lengths.  For non-leap
    //      years, we limit it to either 353, 354 or 355 days.  For
    //      leap years, we limit it to either 383, 384 or 385 days.
    //      If setting Rosh Hashanah to the day of the molad will
    //      cause this year, or the previous year to fall outside
    //      these lengths, we push off Rosh Hashanah to get the year
    //      back to a valid length.
    // This code handles these exceptions.
    if (!isLeapYear(nYearH) &&
        nDayOfWeek == 3 &&
        (nHours * 1080) + nChalakim >= 9924) {
      // This prevents the year from being 356 days. We have to push
      // Rosh Hashanah off two days because if we pushed it off only
      // one day, Rosh Hashanah would comes out on a Wednesday. Check
      // the Hebrew year 5745 for an example.
      nDayOfWeek = 5
      nDays += 2
    }
    else if ( isLeapYear(nYearH - 1) &&
              nDayOfWeek == 2 &&
              (nHours * 1080) + nChalakim >= 16789 ) {
      // This prevents the previous year from being 382 days. Check
      // the Hebrew Year 5766 for an example. If Rosh Hashanah was not
      // pushed off a day then 5765 would be 382 days
      nDayOfWeek = 3
      nDays += 1
    }
    else {
      // see rule 2 above. Check the Hebrew year 5765 for an example
      if (nHours >= 18) {
        nDayOfWeek += 1
        nDayOfWeek = nDayOfWeek % 7
        nDays += 1
      }
      // see rule 1 above. Check the Hebrew year 5765 for an example
      if (nDayOfWeek == 1 ||
          nDayOfWeek == 4 ||
          nDayOfWeek == 6) {
        nDayOfWeek += 1
        nDayOfWeek = nDayOfWeek % 7
        nDays += 1
      }
    }

    // Here we want to add nDays to creation
    //    dTishrie1 = creation + nDays
    // Unfortunately, Many languages do not handle negative years very
    // well. I therefore picked a Random date (1/1/1900) and figured out
    // how many days it is after the creation (2067025). Then I
    // subtracted 2067025 from nDays.
    nDays -= 2067025
    dTishrei1 = new Date(1900, 0, 1) // 2067025 days after creation
    dTishrei1.setDate(dTishrei1.getDate() + nDays)

    return dTishrei1
   }


  // This function gets the length of a Hebrew year.
  function lengthOfYear(nYearH) {
    var dThisTishrei1
    var dNextTishrei1
    var diff

    // subtract the date of this year from the date of next year
    dThisTishrei1 = tishrei1(nYearH)
    dNextTishrei1 = tishrei1(nYearH + 1)
    // Java's dates are stored in milliseconds. To convert it into days
    // we have to divide it by 1000 * 60 * 60 * 24 = 86,400,000
    diff = (dNextTishrei1 - dThisTishrei1) / (86400000)
    return Math.round(diff)
  }

  // This function converts a Hebrew date into the Gregorian date
  // nYearH - is the Hebrew year
  // nMonth - Tishrei=1
  //          Cheshvan=2
  //          Kislev=3
  //          Teves=4
  //          Shevat=5
  //          Adar A=6 (only valid on leap years)
  //          Adar=7   (Adar B for leap years)
  //          Nisan=8
  //          Iyar=9
  //          Sivan=10
  //          Tamuz=11
  //          Av=12
  //          Elul=13
  function hebToGreg(nYearH, nMonthH, nDateH) {
    var nLengthOfYear
    var bLeap
    var dGreg
    var nMonth
    var nMonthLen
    var bHaser
    var bShalem

    bLeap = isLeapYear(nYearH)
    nLengthOfYear = lengthOfYear(nYearH)

    // The regular length of a non-leap year is 354 days.
    // The regular length of a leap year is 384 days.
    // On regular years, the length of the months are as follows
    //   Tishrei (1)   30
    //   Cheshvan(2)   29
    //   Kislev  (3)   30
    //   Teves   (4)   29
    //   Shevat  (5)   30
    //   Adar A  (6)   30     (only valid on leap years)
    //   Adar    (7)   29     (Adar B for leap years)
    //   Nisan   (8)   30
    //   Iyar    (9)   29
    //   Sivan   (10)  30
    //   Tamuz   (11)  29
    //   Av      (12)  30
    //   Elul    (13)  29
    // If the year is shorter by one less day, it is called a haser
    // year. Kislev on a haser year has 29 days. If the year is longer
    // by one day, it is called a shalem year. Cheshvan on a shalem
    // year is 30 days.

    bHaser = (nLengthOfYear == 353 || nLengthOfYear == 383)
    bShalem = (nLengthOfYear == 355 || nLengthOfYear == 385)

    // get the date for Tishrei 1
    dGreg = tishrei1(nYearH)

    dMonth = {
      1: 30,
      2: 29, // Cheshvan, see note above
      3: 30, // Kislev, see note above
      4: 29,
      5: 30,
      6: 0, // Adar A (6) will be skipped on non-leap years
      7: 29,
      8: 30,
      9: 29,
      10: 30,
      11: 29,
      12: 30,
      13: 29
    }
    if (bLeap) dMonth[6] = 30;
    if (bShalem) dMonth[2] = 30;
    if (bHaser) dMonth[3] = 29;
    // Now count up days within the year
    for (nMonth = 1; nMonth <= nMonthH - 1; nMonth ++) {
      nMonthLen= dMonth[nMonth];
      dGreg.setDate(dGreg.getDate() + nMonthLen)
    }
    dGreg.setDate(dGreg.getDate() + nDateH - 1)
    return dGreg
  }

  // This function converts a Gregorian date into the Hebrew date.  The
  // function returns the hebrew month as a string in the format M/D/Y.
  function gregToHeb(dGreg) {
    var nYearH
    var nMonthH
    var nDateH
    var nOneMolad
    var nAvrgYear
    var nDateH
    var dTishrei1
    var nLengthOfYear
    var bLeap
    var bHaser
    var bShalem
    var nMonthLen
    var bWhile
    var d1900 = new Date(1900, 0, 1)

    // The basic algorithm to get Hebrew date for the Gregorian date dGreg.
    // 1) Find out how many days dGreg is after creation.
    // 2) Based on those days, estimate the Hebrew year
    // 3) Now that we a good estimate of the Hebrew year, use brute force to
    //    find the Gregorian date for Tishrei 1 prior to or equal to dGreg
    // 4) Add to Tishrei 1 the amount of days dGreg is after Tishrei 1

    // Figure out how many days are in a month.
    // 29 days + 12 hours + 793 chalakim
    nOneMolad = 29.5 + (793 / 25920)
    // Figure out the average length of a year. The hebrew year has exactly
    // 235 months over 19 years.
    nAvrgYear = nOneMolad * (235 / 19)
    // Get how many days dGreg is after creation. See note as to why I
    // use 1/1/1900 and add 2067025
    nDateH = Math.round((dGreg - d1900) / (86400000))
    nDateH += 2067025 // 2067025 days after creation
    // Guess the Hebrew year. This should be a pretty accurate guess.
    nYearH = Math.floor(nDateH / nAvrgYear) + 1
    // Use brute force to find the exact year nYearH. It is the Tishrei 1 in
    // the year <= dGreg.
    dTishrei1 = tishrei1(nYearH)

    if (sameDate(dTishrei1, dGreg)) {
      // If we got lucky and landed on the exact date, we can stop here
      nMonthH = 1
      nDateH = 1
    }
    else  {
      // Here is the brute force.  Either count up or count down nYearH
      // until Tishrei 1 is <= dGreg.
      if (dTishrei1 < dGreg) {
        // If Tishrei 1, nYearH is less than dGreg, count nYearH up.
        while (tishrei1(nYearH + 1) <= dGreg) {
          nYearH += 1
        }
      }
      else {
        // If Tishrei 1, nYearH is greater than dGreg, count nYearH down.
        nYearH -= 1
        while (tishrei1(nYearH) > dGreg) {
          nYearH -= 1
        }
      }

      // Subtract Tishrei 1, nYearH from dGreg. That should leave us with
      // how many days we have to add to Tishrei 1
      nDateH = (dGreg - tishrei1(nYearH)) / (86400000)
      nDateH = Math.round(nDateH)
      // Find out what type of year it is so that we know the length of the
      // months
      nLengthOfYear = lengthOfYear(nYearH)
      bHaser = nLengthOfYear == 353 || nLengthOfYear == 383
      bShalem = nLengthOfYear == 355 || nLengthOfYear == 385
      bLeap = isLeapYear(nYearH)

      // Add nDateH to Tishrei 1.
      nMonthH = 1
      monthN = {
        1: 30,
        2: 29, // Cheshvan, see note above
        3: 30, // Kislev, see note above
        4: 29,
        5: 30,
        6: 30, // Adar A (6) will be skipped on non-leap years
        7: 29,
        8: 30,
        9: 29,
        10: 30,
        11: 29,
        12: 30,
        13: 29
      }
      if(bShalem) monthN[2] = 30;
      if(bHaser) monthN[3] = 29;
      do {
        nMonthLen = monthN[nMonthH];

        if (nDateH >= nMonthLen) {
          bWhile = true
          if (bLeap || nMonthH != 5) {
            nMonthH ++
          }
          else {
            // We can skip Adar A (6) if its not a leap year
            nMonthH += 2
          }
          nDateH -= nMonthLen
        }
        else {
          bWhile = false
        }
      } while (bWhile)
      //Add the remaining days to Date
      nDateH = nDateH
    }
    return [nMonthH , nDateH , nYearH]
  }

function numLettr(num) {
  num%=1000;
  var ones=["א","ב","ג","ד","ה","ו","ז","ח","ט"];
  var tens=["י","כ","ל","מ","נ","ס","ע","פ","צ"];
  var huns=["ק","ר","ש","ת"];
  var output="";
  var c=parseInt(num/400);
  if(num >= 100){
    for (var i = 0; i < c; i++) { 
      output+=huns[3];
    }
    output+=huns[parseInt(num/100-4*c)-1];
  }
  if(num >= 10){
    if(num==15) output+= "טו";
    else if(num==16) output+= "טז";
    else if(num%10!=0) output+=tens[parseInt(num/10%10)-1]+ones[num%10-1];
    else output+=tens[parseInt(num/10%10)-1];
  }
  else output= ones[num%10-1];
  var n = output.length;
  if(n >= 2)
    output = output.slice(0, n-1) + '"' + output.slice(n-1, n);
  else output += "'";
  return output
}
  
  function sameDate(d1, d2) {
    return (d1.getFullYear() == d2.getFullYear() && 
            d1.getMonth() == d2.getMonth() && 
            d1.getDate() == d2.getDate())
             
  }

  // Here are a few support functions for the sample web page

  function formatDateH(cDate) {
    var cFormatDate = numLettr(Number(cDate[1])) + " ב";
    var hMonths = {
      1: "תשרי",
      2: "חשוון",
      3: "כסלו",
      4: "טבת",
      5: "שבט",
      6: "אדר א'",
      7: "אדר",
      8: "ניסן",
      9: "אייר",
      10: "סיוון",
      11: "תמוז",
      12: "אב",
      13: "אלול"
    }
    if(isLeapYear(Number(cDate[2])))
      hMonths[7] += " ב'";
    cFormatDate += hMonths[Number(cDate[0])];
    cFormatDate += ", " + numLettr(cDate[2])
    return cFormatDate
  }

function getYearType(year) 
{
  var length = lengthOfYear(year);
  var output;
  if(isLeapYear(year)) {
    if(length == 383) return 'miss';
    if(length == 384) return 'norm';
    else return 'full';
  }
  else {
    if(length == 353) return 'miss';
    if(length == 354) return 'norm';
    else return 'full';
  }
}

function twoDigit(num)
{
  if (num<=9)
    return "0"+num.toString();
  else return num;
}

function findShabbat(date){
  date.setHours(12);
  var timeToShabbat = 6 - date.getDay();
  var newdate = new Date(date.setDate(date.getDate() + timeToShabbat));
  return gregToHeb(newdate);
}

function omerCount(date){
    var month = date[0];
    var day = date[1];
    if(month < 8 || month > 10)
      return "";
    if(month == 8) {
      count = day - 15;
    }
    else if(month == 9) {
      count = day + 15;
    }
    else count = day + 44;
    if (count > 49 || count < 1)
      return "";
    return numLettr(count) + " בעומר";
}

function checkHDate(dateH, log){
  var month = dateH[0];
  var day = dateH[1];

  if(month in log){
    if(day in log[month])
      return log[month][day];
  }
  return "";
}

function holidays(date){
  const holidates = {
    1: {
      1: 'ראש השנה',
      3: 'צום גדליה',
      10: 'יום הכיפורים',
      15: 'סוכות - אושיפזין אברהם',
      16: 'סוכות - אושפיזין יצחק',
      17: 'סוכות - אושפיזין יעקב',
      18: 'סוכות - אושפיזין יוסף',
      19: 'סוכות - אושפיזין משה',
      20: 'סוכות - אושפיזין אהרן',
      21: 'סוכות - אושפיזין דוד',
      22: 'שמיני עצרת/שמחת תורה'
    },
    3: {
      25: 'חנוכה - נר ראשון',
      26: 'חנוכה - נר שני',
      27: 'חנוכה - נר שלישי',
      28: 'חנוכה - נר רביעי',
      29: 'חנוכה - נר חמישי',
      30: 'חנוכה - נר שישי',
    },
    4: {
      10: 'עשרה בטבת'
    },
    5: {
      15: 'ט"ו בשבת'
    },
    7: {
      13: 'תענית אסתר',
      14: 'פורים',
      15: 'שושן פורים'
    },
    8: {
      14: 'ערב פסח',
      15: 'פסח',
      16: 'חול המועד פסח א',
      17: 'חול המועד פסח ב',
      18: 'חול המועד פסח ג',
      19: 'חול המועד פסח ד',
      20: 'חול המועד פסח ה',
      21: 'שביעי של פסח',
      27: 'יום הזיכרון לשואה ולגבורה'
    },
    9: {
      4: 'יום הזיכרון לחללי צה"ל',
      5: 'יום העצמאות',
      28: 'יום ירושלים'
    },
    10: {
      6: 'שבועות'
    },
    11: {
      17: 'שבעה עשר בתמוז'
    },
    12: {
      9: 'תשעה באב'
    }
  }
    var condition = getYearType(date[2]);
    if(condition != 'miss'){
      holidates[4][1] = 'חנוכה - נר שביעי';
      holidates[4][2] = 'חנוכה - נר שמיני';
    }
    else {
      holidates[4][1] = 'חנוכה - נר שישי';
      holidates[4][2] = 'חנוכה - נר שביעי';
      holidates[4][3] = 'חנוכה - נר שמיני';
    }
    return checkHDate(date, holidates);
  }

  function weeklyParasha(date){
    /* 
    Sixteen year configurations, represented by 3-4 characters.
    For char 1 and 3:
    a = sunday
    b = monday
    c = tuesday
    e = thursday
    s = saturday

    For char 2:
    m = miss (חסר)
    f = full (שלם)
    n = normal (כסדרו)

    Direct translation:
    bmc = בחג
    bfe = בשה
    cne = גכה
    ens = הכז
    efa = השא
    sma = זחא
    sfc = זשג
    bme = בחה
    bfs = בשז
    cns = גכז
    ema = החא
    efc = השג
    smc = זחג
    sfe = זשה
    */
    var parashot = {
      "bmc": {
        1: {
          27: "בראשית",
        },
        2: {
          4: "נח",
          11: "לך לך",
          18: "וירא",
          25: "חיי שרה"
        },
        3: {
          3: "תולדת",
          10: "ויצא",
          17: "וישלח",
          24: "וישב"
        },
        4: {
          2: "מקץ",
          9: "ויגש",
          16: "ויחי",
          23: "שמות"
        },
        5: {
          1: "וארא",
          8: "בא",
          15: "בשלח",
          22: "יתרו",
          29: "משפטים"
        },
        7: { 
          6: "תרומה",
          13: "תצוה",
          20: "כי תשא",
          27: "ויקהל"
        },
        8: {
          5: "ויקרא",
          12: "צו",
          26: "שמיני"
        },
        9: {
          3: "תזריע",
          10: "אחרי מות",
          17: "אמר",
          24: "בהר"
        },
        10: {
          2: "במדבר",
          9: "נשא",
          16: "בהעלתך",
          23: "שלח",
          30: "קרח"
        },
        11: {
          7: "חקת",
          14: "בלק",
          21: "פינחס",
          28: "מטות"
        },
        12: {
          6: "דברים",
          13: "ואתחנן",
          20: "עקב",
          27: "ראה"
        },
        13: {
          4: "שפטים",
          11: "כי תצא",
          18: "כי תבא",
          25: "נצבים"
        },
        14: {  
          6: "וילך",
          13: "האזינו",
          22: "וזאת הברכה"
        }
      },
      "bfe": {
        1: {
          27: "בראשית"
        },
        2: {
          4: "נח",
          11: "לך לך",
          18: "וירא",
          25: "חיי שרה"
        },
        3: {
          2: "תולדת",
          9: "ויצא",
          16: "וישלח",
          23: "וישב",
          30: "מקץ"
        },
        4: {
          7: "ויגש",
          14: "ויחי",
          21: "שמות",
          28: "וארא"
        },
        5: {
          6: "בא",
          13: "בשלח",
          20: "יתרו",
          27: "משפטים"
        },
        7: {
          4: "תרומה",
          11: "תצוה",
          18: "כי תשא",
          25: "ויקהל-פקדי"
        },
        8: {
          3: "ויקרא",
          10: "צו",
          24: "שמיני"
        },
        9: {
          1: "תזריע-מצרע",
          8: "אחרי מות-קדשים",
          15: "אמר",
          22: "בהר-בחקתי",
          29: "במדבר"
        },
        10: {
          7: "נשא",
          14: "בהעלתך",
          21: "שלח",
          28: "קרח"
        },
        11: {
          5: "חקת",
          12: "בלק",
          19: "פינחס",
          26: "מטות-מסעי"
        },
        12: {
          4: "דברים",
          11: "ואתחנן",
          18: "עקב",
          25: "ראה"
        },
        13: {
          2: "שפטים",
          9: "כי תצא",
          16: "כי תבא",
          23: "נצבים-וילך"
        },
        14: {
          6: "וילך",
          13: "האזינו",
          22: "וזאת הברכה"
        }
      },
      "cne": {
        1: {
          26: "בראשית"
        },
        2: {
          3: "נח",
          10: "לך לך",
          17: "וירא",
          24: "חיי שרה"
        },
        3: {
          2: "תולדת",
          9: "ויצא",
          16: "וישלח",
          23: "וישב",
          30: "מקץ"
        },
        4: {
          7: "ויגש",
          14: "ויחי",
          21: "שמות",
          28: "וארא"
        },
        5: {
          6: "בא",
          13: "בשלח",
          20: "יתרו",
          27: "משפטים"
        },
        7: {
          4: "תרומה",
          11: "תצוה",
          18: "כי תשא",
          25: "ויקהל-פקדי"
        },
        8: {
          3: "ויקרא",
          10: "צו",
          24: "שמיני"
        },
        9: {
          1: "תזריע-מצרע",
          8: "אחרי מות-קדשים",
          15: "אמר",
          22: "בהר-בחקתי",
          29: "במדבר"
        },
        10: {
          7: "נשא",
          14: "בהעלתך",
          21: "שלח",
          28: "קרח"
        },
        11: {
          5: "חקת",
          12: "בלק",
          19: "פינחס",
          26: "מטות-מסעי"
        },
        12: {
          4: "דברים",
          11: "ואתחנן",
          18: "עקב",
          25: "ראה"
        },
        13: {
          2: "שפטים",
          9: "כי תצא",
          16: "כי תבא",
          23: "נצבים"
        },
        14: {
          5: "וילך",
          12: "האזינו",
          22: "וזאת הברכה"
        }
      },
      "ens": {
        1: {
          24: "בראשית"
        },
        2: {
          1: "נח",
          8: "לך לך",
          15: "וירא",
          22: "חיי שרה",
          29: "תולדת"
        },
        3: {
          7: "ויצא",
          14: "וישלח",
          21: "וישב",
          28: "מקץ"
        },
        4: {
          5: "ויגש",
          12: "ויחי",
          19: "שמות",
          26: "וארא"
        },
        5: {
          4: "בא",
          11: "בשלח",
          18: "יתרו",
          25: "משפטים"
        },
        7: {
          2: "תרומה",
          9: "תצוה",
          16: "כי תשא",
          23: "ויקהל-פקדי"
        },
        8: {
          1: "ויקרא",
          8: "צו",
          22: "שמיני",
          29: "תזריע-מצרע"
        },
        9: {
          6: "אחרי מות-קדשים",
          13: "אמר",
          20: "בהר",
          27: "בחקתי"
        },
        10: {
          5: "במדבר",
          12: "נשא",
          19: "בהעלתך",
          26: "שלח"
        },
        11: {
          3: "קרח",
          10: "חקת",
          17: "בלק",
          24: "פינחס"
        },
        12: {
          2: "מטות-מסעי",
          9: "דברים",
          16: "ואתחנן",
          23: "עקב",
          30: "ראה"
        },
        13: {
          7: "שפטים",
          14: "כי תצא",
          21: "כי תבא",
          28: "נצבים"
        },
        14: {
          6: "וילך",
          13: "האזינו",
          22: "וזאת הברכה"
        }
      },
      "efa": {
        1: {
          24: "בראשית"
        },
        2: {
          1: "נח",
          8: "לך לך",
          15: "וירא",
          22: "חיי שרה",
          29: "תולדת"
        },
        3: {
          6: "ויצא",
          13: "וישלח",
          20: "וישב",
          27: "מקץ"
        },
        4: {
          4: "ויגש",
          11: "ויחי",
          18: "שמות",
          25: "וארא"
        },
        5: {
          3: "בא",
          10: "בשלח",
          17: "יתרו",
          24: "משפטים"
        },
        7: {
          1: "תרומה",
          8: "תצוה",
          15: "כי תשא",
          22: "ויקהל",
          29: "פקדי"
        },
        8: {
          7: "ויקרא",
          14: "צו",
          28: "שמיני"
        },
        9: {
          5: "תזריע-מצרע",
          12: "אחרי מות-קדשים",
          19: "אמר",
          26: "בהר-בחקתי"
        },
        10: {
          4: "במדבר",
          11: "נשא",
          18: "בהעלתך",
          25: "שלח"
        },
        11: {
          2: "קרח",
          9: "חקת",
          16: "בלק",
          23: "פינחס"
        },
        12: {
          1: "מטות-מסעי",
          8: "דברים",
          15: "ואתחנן",
          22: "עקב",
          29: "ראה"
        },
        13: {
          6: "שפטים",
          13: "כי תצא",
          20: "כי תבא",
          27: "נצבים"
        },
        14: {
          5: "וילך",
          12: "האזינו",
          22: "וזאת הברכה"
        }
      },
      "sma": {
        1: {
          29: "בראשית"
        },
        2: {
          6: "נח",
          13: "לך לך",
          20: "וירא",
          27: "חיי שרה"
        },
        3: {
          5: "תולדת",
          12: "ויצא",
          19: "וישלח",
          26: "וישב"
        },
        4: {
          4: "מקץ",
          11: "ויגש",
          18: "ויחי",
          25: "שמות"
        },
        5: {
          3: "וארא",
          10: "בא",
          17: "בשלח",
          24: "יתרו"
        },
        7: {
          1: "משפטים",
          8: "תרומה",
          15: "תצוה",
          22: "כי תשא",
          29: "ויקהל-פקדי"
        },
        8: {
          7: "ויקרא",
          14: "צו",
          28: "שמיני"
        },
        9: {
          5: "תזריע-מצרע",
          12: "אחרי מות-קדשים",
          19: "אמר",
          26: "בהר-בחקתי"
        },
        10: {
          4: "במדבר",
          11: "נשא",
          18: "בהעלתך",
          25: "שלח"
        },
        11: {
          2: "קרח",
          9: "חקת",
          16: "בלק",
          23: "פינחס"
        },
        12: {
          1: "מטות-מסעי",
          8: "דברים",
          15: "ואתחנן",
          22: "עקב",
          29: "ראה"
        },
        13: {
          6: "שפטים",
          13: "כי תצא",
          20: "כי תבא",
          27: "נצבים"
        },
        14: {
          8: "האזינו",
          22: "וזאת הברכה"
        }
      },
      "sfc": {
        1: {
          29: "בראשית"
        },
        2: {
          6: "נח",
          13: "לך לך",
          20: "וירא",
          27: "חיי שרה"
        },
        3: {
          4: "תולדת",
          11: "ויצא",
          18: "וישלח",
          25: "וישב"
        },
        4: {
          2: "מקץ",
          9: "ויגש",
          16: "ויחי",
          23: "שמות"
        },
        5: {
          1: "וארא",
          8: "בא",
          15: "בשלח",
          22: "יתרו",
          29: "משפטים"
        },
        7: {
          6: "תרומה",
          13: "תצוה",
          20: "כי תשא",
          27: "ויקהל-פקדי"
        },
        8: {
          5: "ויקרא",
          12: "צו",
          26: "שמיני"
        },
        9: {
          3: "תזריע-מצרע",
          10: "אחרי מות-קדשים",
          17: "אמר",
          24: "בהר-בחקתי"
        },
        10: {
          2: "במדבר",
          9: "נשא",
          16: "בהעלתך",
          23: "שלח",
          30: "קרח"
        },
        11: {
          7: "חקת",
          14: "בלק",
          21: "פינחס",
          28: "מטות-מסעי"
        },
        12: {
          6: "דברים",
          13: "ואתחנן",
          20: "עקב",
          27: "ראה"
        },
        13: {
          4: "שפטים",
          11: "כי תצא",
          18: "כי תבא",
          25: "נצבים-וילך"
        },
        14: {
          8: "האזינו",
          22: "וזאת הברכה"
        }
      },
      "bme": {
        1: {
          27: "בראשית"
        },
        2: {
          4: "נח",
          11: "לך לך",
          18: "וירא",
          25: "חיי שרה"
        },
        3: {
          3: "תולדת",
          10: "ויצא",
          17: "וישלח",
          24: "וישב"
        },
        4: {
          2: "מקץ",
          9: "ויגש",
          16: "ויחי",
          23: "שמות"
        },
        5: {
          1: "וארא",
          8: "בא",
          15: "בשלח",
          22: "יתרו",
          29: "משפטים"
        },
        6: {
          6: "תרומה",
          13: "תצוה",
          20: "כי תשא",
          27: "ויקהל"
        },
        7: {
          4: "פקדי",
          11: "ויקרא",
          18: "צו",
          25: "שמיני"
        },
        8: {
          3: "תזריע",
          10: "מצרע",
          24: "אחרי מות"
        },
        9: {
          1: "קדשים",
          8: "אמר",
          15: "בהר",
          22: "בחקתי",
          29: "במדבר"
        },
        10: {
          7: "נשא",
          14: "בהעלתך",
          21: "שלח",
          28: "קרח"
        },
        11: {
          5: "חקת",
          12: "בלק",
          19: "פינחס",
          26: "מטות-מסעי"
        },
        12: {
          4: "דברים",
          11: "ואתחנן",
          18: "עקב",
          25: "ראה"
        },
        13: {
          2: "שפטים",
          9: "כי תצא",
          16: "כי תבא",
          23: "נצבים"
        },
        14: {
          6: "וילך",
          13: "האזינו",
          22: "וזאת הברכה"
        }
      },
      "bfs": {
        1: {
          27: "בראשית"
        },
        2: {
          4: "נח",
          11: "לך לך",
          18: "וירא",
          25: "חיי שרה"
        },
        3: {
          2: "תולדת",
          9: "ויצא",
          16: "וישלח",
          23: "וישב",
          30: "מקץ"
        },
        4: {
          7: "ויגש",
          14: "ויחי",
          21: "שמות",
          28: "וארא"
        },
        5: {
          6: "בא",
          13: "בשלח",
          20: "יתרו",
          27: "משפטים"
        },
        6: {
          4: "תרומה",
          11: "תצוה",
          18: "כי תשא",
          25: "ויקהל"
        },
        7: {
          2: "פקדי",
          9: "ויקרא",
          16: "צו",
          23: "שמיני"
        },
        8: {
          1: "תזריע",
          8: "מצרע",
          22: "אחרי מות",
          29: "קדשים"
        },
        9: {
          6: "אמר",
          13: "בהר",
          20: "בחקתי",
          27: "במדבר"
        },
        10: {
          5: "נשא",
          12: "בהעלתך",
          19: "שלח",
          26: "קרח"
        },
        11: {
          3: "חקת",
          10: "בלק",
          17: "פינחס",
          24: "מטות"
        },
        12: {
          2: "מסעי",
          9: "דברים",
          16: "ואתחנן",
          23: "עקב",
          30: "ראה"
        },
        13: {
          7: "שפטים",
          14: "כי תצא",
          21: "כי תבא",
          28: "נצבים"
        },
        14: {
          6: "וילך",
          13: "האזינו",
          22: "וזאת הברכה"
        }
      },
      "cns": {
        1: {
          26: "בראשית"
        },
        2: {
          3: "נח",
          10: "לך לך",
          17: "וירא",
          24: "חיי שרה"
        },
        3: {
          2: "תולדת",
          9: "ויצא",
          16: "וישלח",
          23: "וישב",
          30: "מקץ"
        },
        4: {
          7: "ויגש",
          14: "ויחי",
          21: "שמות",
          28: "וארא"
        },
        5: {
          6: "בא",
          13: "בשלח",
          20: "יתרו",
          27: "משפטים"
        },
        6: {
          4: "תרומה",
          11: "תצוה",
          18: "כי תשא",
          25: "ויקהל"
        },
        7: {
          2: "פקודי",
          9: "ויקרא",
          16: "צו",
          23: "שמיני"
        },
        8: {
          1: "תזריע",
          8: "מצרע",
          22: "אחרי מות",
          29: "קדשים"
        },
        9: {
          6: "אמר",
          13: "בהר",
          20: "בחקתי",
          27: "במדבר"
        },
        10: {
          5: "נשא",
          12: "בהעלתך",
          19: "שלח",
          26: "קרח"
        },
        11: {
          3: "חקת",
          10: "בלק",
          17: "פינחס",
          24: "מטות"
        },
        12: {
          2: "מסעי",
          9: "דברים",
          16: "ואתחנן",
          23: "עקב",
          30: "ראה"
        },
        13: {
          7: "שפטים",
          14: "כי תצא",
          21: "כי תבא",
          28: "נצבים"
        },
        14: {
          5: "וילך",
          12: "האזינו",
          22: "וזאת הברכה"
        }
      },
      "ema": {
        1: {
          24: "בראשית"
        },
        2: {
          1: "נח",
          8: "לך לך",
          15: "וירא",
          22: "חיי שרה",
          29: "תולדת"
        },
        3: {
          7: "ויצא",
          14: "וישלח",
          21: "וישב",
          28: "מקץ"
        },
        4: {
          6: "ויגש",
          13: "ויחי",
          20: "שמות",
          27: "וארא"
        },
        5: {
          5: "בא",
          12: "בשלח",
          19: "יתרו",
          26: "משפטים"
        },
        6: {
          3: "תרומה",
          10: "תצוה",
          17: "כי תשא",
          24: "ויקהל"
        },
        7: {
          1: "פקדי",
          8: "ויקרא",
          15: "צו",
          22: "שמיני",
          29: "תזריע"
        },
        8: {
          7: "מצרע",
          14: "אחרי מות",
          28: "קדשים"
        },
        9: {
          5: "אמר",
          12: "בהר",
          19: "בחקתי",
          26: "במדבר"
        },
        10: {
          4: "נשא",
          11: "בהעלתך",
          18: "שלח",
          25: "קרח"
        },
        11: {
          2: "חקת",
          9: "בלק",
          16: "פינחס",
          23: "מטות"
        },
        12: {
          1: "מסעי",
          8: "דברים",
          15: "ואתחנן",
          22: "עקב",
          29: "ראה"
        },
        13: {
          6: "שפטים",
          13: "כי תצא",
          20: "כי תבא",
          27: "נצבים"
        },
        14: {
          3: "האזינו",
          22: "וזאת הברכה"
        }
      },
      "efc": {
        1: {
          24: "בראשית"
        },
        2: {
          1: "נח",
          8: "לך לך",
          15: "וירא",
          22: "חיי שרה",
          29: "תולדת"
        },
        3: {
          6: "ויצא",
          13: "וישלח",
          20: "וישב",
          27: "מקץ"
        },
        4: {
          4: "ויגש",
          11: "ויחי",
          18: "שמות",
          25: "וארא"
        },
        5: {
          3: "בא",
          10: "בשלח",
          17: "יתרו",
          24: "משפטים"
        },
        6: {
          1: "תרומה",
          8: "תצוה",
          15: "כי תשא",
          22: "ויקהל",
          29: "פקדי"
        },
        7: {
          6: "ויקרא",
          13: "צו",
          20: "שמיני",
          27: "תזריע"
        },
        8: {
          5: "מצרע",
          12: "אחרי מות",
          26: "קדשים"
        },
        9: {
          3: "אמר",
          10: "בהר",
          17: "בחקתי",
          24: "במדבר"
        },
        10: {
          2: "נשא",
          9: "בהעלתך",
          16: "שלח",
          23: "קרח",
          30: "חקת"
        },
        11: {
          7: "בלק",
          14: "פינחס",
          21: "מטות",
          28: "מסעי"
        },
        12: {
          6: "דברים",
          13: "ואתחנן",
          20: "עקב",
          27: "ראה"
        },
        13: {
          4: "שפטים",
          11: "כי תצא",
          18: "כי תבא",
          25: "נצבים-וילך"
        },
        14: {
          3: "האזינו",
          22: "וזאת הברכה"
        }
      },
      "smc": {
        1: {
          29: "בראשית"
        },
        2: {
          6: "נח",
          13: "לך לך",
          20: "וירא",
          27: "חיי שרה"
        },
        3: {
          5: "תולדת",
          12: "ויצא",
          19: "וישלח",
          26: "וישב"
        },
        4: {
          4: "מקץ",
          11: "ויגש",
          18: "ויחי",
          25: "שמות"
        },
        5: {
          3: "וארא",
          10: "בא",
          17: "בשלח",
          24: "יתרו"
        },
        6: {
          1: "משפטים",
          8: "תרומה",
          15: "תצוה",
          22: "כי תשא",
          29: "ויקהל"
        },
        7: {
          6: "פקדי",
          13: "ויקרא",
          20: "צו",
          27: "שמיני"
        },
        8: {
          5: "תזריע",
          12: "מצרע",
          26: "אחרי מות"
        },
        9: {
          3: "קדשים",
          10: "אמר",
          17: "בהר",
          24: "בחקתי"
        },
        10: {
          2: "במדבר",
          9: "נשא",
          16: "בהעלתך",
          23: "שלח",
          30: "קרח"
        },
        11: {
          7: "חקת",
          14: "בלק",
          21: "פינחס",
          28: "מטות-מסעי"
        },
        12: {
          6: "דברים",
          13: "ואתחנן",
          20: "עקב",
          27: "ראה"
        },
        13: {
          4: "שפטים",
          11: "כי תצא",
          18: "כי תבא",
          25: "נצבים-וילך"
        },
        14: {
          8: "האזינו",
          22: "וזאת הברכה"
        }
      },
      "sfe": {
        1: {
          29: "בראשית"
        },
        2: {
          6: "נח",
          13: "לך לך",
          20: "וירא",
          27: "חיי שרה"
        },
        3: {
          4: "תולדת",
          11: "ויצא",
          18: "וישלח",
          25: "וישב"
        },
        4: {
          2: "מקץ",
          9: "ויגש",
          16: "ויחי",
          23: "שמות"
        },
        5: {
          1: "וארא",
          8: "בא",
          15: "בשלח",
          22: "יתרו",
          29: "משפטים"
        },
        6: {
          6: "תרומה",
          13: "תצוה",
          20: "כי תשא",
          27: "ויקהל"
        },
        7: {
          4: "פקדי",
          11: "ויקרא",
          18: "צו",
          25: "שמיני"
        },
        8: {
          3: "תזריע",
          10: "מצרע",
          24: "אחרי מות"
        },
        9: {
          1: "קדשים",
          8: "אמר",
          15: "בהר",
          22: "בחקתי",
          29: "במדבר"
        },
        10: {
          7: "נשא",
          14: "בהעלתך",
          21: "שלח",
          28: "קרח"
        },
        11: {
          5: "חקת",
          12: "בלק",
          19: "פינחס",
          26: "מטות-מסעי"
        },
        12: {
          4: "דברים",
          11: "ואתחנן",
          18: "עקב",
          25: "ראה"
        },
        13: {
          2: "שפטים",
          9: "כי תצא",
          16: "כי תבא",
          23: "נצבים-וילך"
        },
        14: {
          8: "האזינו",
          22: "וזאת הברכה"
        }
      }
    }
    if(date[0] == 1 && date[1] <= 22){
      date[2] -=1;
      parashot[1] = parashot[14];
    }
    var year = date[2];
    var week = ["a", "b", "c", "d", "e", "f", "s"];
    // get day of tishrei 1
    var config = week[tishrei1(year).getDay()];
    // get year type
    config += getYearType(year).substring(0, 1);
    // get day of passover
    config += week[hebToGreg(year, 8, 15).getDay()];
    var par = checkHDate(date, parashot[config]);
    if (par)
      return "פרשת " + par;
    return "";
  }
</script>
</body>
</html>
